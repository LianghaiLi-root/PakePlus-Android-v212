{"name":"fddcbbbfefaae","url":"https://m.youtube.com/","showName":"YouTube","appid":"com.youtube.app","icon":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.2","preview":"Android","platform":["1-1"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"// very important, if you don't know what it is, don't touch it\n// 非常重要，不懂代码不要动，这里可以解决80%的问题，也可以生产1000+的bug\nconst hookClick = (e) => {\n    const origin = e.target.closest('a')\n    const isBaseTargetBlank = document.querySelector(\n        'head base[target=\"_blank\"]'\n    )\n    console.log('origin', origin, isBaseTargetBlank)\n    if (\n        (origin && origin.href && origin.target === '_blank') ||\n        (origin && origin.href && isBaseTargetBlank)\n    ) {\n        e.preventDefault()\n        console.log('handle origin', origin)\n        location.href = origin.href\n    } else {\n        console.log('not handle origin', origin)\n    }\n}\n\nwindow.open = function (url, target, features) {\n    console.log('open', url, target, features)\n    location.href = url\n}\n\ndocument.addEventListener('click', hookClick, { capture: true })\n\n// ublock-loader.js\n(function() {\n    console.log('正在加载 uBlock Origin 核心...');\n    \n    // 创建样式屏蔽\n    const style = document.createElement('style');\n    style.textContent = `\n        .ad, .ads, .advertisement, [class*=\"ad-\"], \n        [id*=\"ad-\"], .google-ad, .adsbygoogle,\n        iframe[src*=\"doubleclick\"], iframe[src*=\"googleads\"],\n        ins.adsbygoogle {\n            display: none !important;\n            visibility: hidden !important;\n            height: 0 !important;\n            width: 0 !important;\n            opacity: 0 !important;\n        }\n    `;\n    document.head.appendChild(style);\n    \n    // 屏蔽请求\n    const originalFetch = window.fetch;\n    window.fetch = function(...args) {\n        const url = args[0];\n        if (isAdUrl(url)) {\n            console.log('屏蔽了广告请求:', url);\n            return Promise.reject(new Error('广告请求被屏蔽'));\n        }\n        return originalFetch.apply(this, args);\n    };\n    \n    function isAdUrl(url) {\n        const adKeywords = [\n            'doubleclick.net',\n            'googleads',\n            'googlesyndication',\n            'adsystem',\n            'adservice',\n            'adsafeprotected'\n        ];\n        return adKeywords.some(keyword => url.includes(keyword));\n    }\n    \n    // 定期清理新出现的广告\n    setInterval(() => {\n        const adElements = document.querySelectorAll([\n            '.ad', '.ads', '.advertisement',\n            '[class*=\"ad-\"]', '[id*=\"ad-\"]',\n            'iframe[src*=\"doubleclick\"]',\n            'iframe[src*=\"googleads\"]'\n        ].join(','));\n        \n        adElements.forEach(el => {\n            if (el.parentNode) {\n                el.parentNode.removeChild(el);\n            }\n        });\n    }, 1000);\n})();\n\n// custom.js - 用于PakePlus应用内视频全屏支持\n(function() {\n    'use strict';\n    \n    // 定义一个函数来处理视频的全屏请求\n    function enterFullscreen(videoElement) {\n        // 优先检查标准的HTML5全屏API\n        if (videoElement.requestFullscreen) {\n            videoElement.requestFullscreen();\n        } else if (videoElement.webkitRequestFullscreen) { // 针对iOS Safari和旧版Android\n            videoElement.webkitRequestFullscreen();\n        } else if (videoElement.webkitEnterFullscreen) { // 特别针对iOS的Safari\n            videoElement.webkitEnterFullscreen();\n        } else if (videoElement.mozRequestFullScreen) { // Firefox\n            videoElement.mozRequestFullScreen();\n        } else if (videoElement.msRequestFullscreen) { // IE/Edge\n            videoElement.msRequestFullscreen();\n        } else {\n            console.warn('Fullscreen API is not supported in this context.');\n            // 如果不支持标准全屏，尝试模拟全屏效果：旋转至横屏并放大元素\n            simulateFullscreen(videoElement);\n        }\n    }\n    \n    // 备用方案：模拟全屏效果（当标准API不可用时）\n    function simulateFullscreen(videoElement) {\n        videoElement.style.width = '100%';\n        videoElement.style.height = '100vh'; // 使用视口高度\n        videoElement.style.objectFit = 'cover';\n        videoElement.style.position = 'fixed';\n        videoElement.style.top = '0';\n        videoElement.style.left = '0';\n        videoElement.style.zIndex = '9999';\n        \n        // 尝试锁定横屏 (注意：此API并非所有浏览器都支持)\n        if (screen.orientation && screen.orientation.lock) {\n            screen.orientation.lock('landscape').catch(err => {\n                console.log('Orientation lock failed: ', err);\n            });\n        }\n    }\n    \n    // 监听页面上的点击事件，劫持视频全屏按钮的点击\n    document.addEventListener('click', function(e) {\n        // 这里需要根据您目标网页的全屏按钮选择器进行调整\n        // 例如，如果全屏按钮的类是'.fullscreen-btn'，则可以这样写：\n        // if (e.target.closest('.fullscreen-btn')) {\n        // 由于选择器未知，我们先尝试查找视频元素并直接触发\n        const video = document.querySelector('video');\n        if (video) {\n            enterFullscreen(video);\n            e.preventDefault(); // 阻止可能的默认行为\n        }\n        // }\n    }, true);\n    \n    // 此外，监听视频元素本身的变化，例如动态加载的视频\n    const observer = new MutationObserver(function(mutations) {\n        mutations.forEach(function(mutation) {\n            mutation.addedNodes.forEach(function(node) {\n                if (node.nodeName === 'VIDEO') {\n                    // 为新添加的视频元素也绑定全屏处理逻辑\n                    setupVideo(node);\n                }\n            });\n        });\n    });\n    \n    observer.observe(document.body, {\n        childList: true,\n        subtree: true\n    });\n    \n    console.log('PakePlus视频全屏增强脚本已加载。');\n})();","isHtml":false,"htmlPath":"","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v212","iosRepo":"PakePlus-iOS-v212","androidRepo":"PakePlus-Android-v212","more":{"windows":{"label":"","title":"YouTube","url":"https://m.youtube.com/","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":412,"height":892,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"fddcbbbfefaae","showName":"YouTube","version":"0.0.2","webUrl":"https://m.youtube.com/","id":"com.youtube.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false,"safeArea":"all"},"android":{"name":"fddcbbbfefaae","showName":"YouTube","version":"0.0.2","webUrl":"https://m.youtube.com/","id":"com.youtube.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false,"safeArea":"all"},"desktop":{"name":"fddcbbbfefaae","showName":"YouTube","version":"0.0.2","id":"com.youtube.app.desktop","desc":"","webUrl":"https://m.youtube.com/","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}